"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1141],{16141:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});var i=a(78e3);const r=(0,i.uE)('<p><em><strong>Instructions for upgrading the application and migrating the data to the new version.</strong></em></p><p>One of the great features of ADempiere is that upgrades and migration to new releases are always free! The process of migration is relatively simple with the migration tools that have been added in release 3.8.0.</p><p>There are two main activities:</p><ol><li>Upgrade your software; and</li><li>Migrate your database to ensure all the necessary fields and data are compatible with the software.</li></ol><div class="custom-container warning"><p class="custom-container-title">Note</p><p>Caution! Back up your database (utils/RUN_DBExport) and make a copy of the contents of the application directory ($ADEMPIERE_HOME) before attempting to upgrade your system. The installation of the latest version of software may overwrite needed files so its best to have them all backed up. In production environments, stage the upgrade in a test environment first.</p></div><h2 id="software-upgrades" tabindex="-1"><a class="header-anchor" href="#software-upgrades" aria-hidden="true">#</a> Software Upgrades</h2><p>The software that drives the application is always being upgraded with fixes and new features. Keeping an implementation up-to-date helps the users benefit from the work of the community. When upgrading the software, it is important that any customized code incorporated with the implementation works with the upgrade. If you are not sure, please contact the developers of your customization or ask for assistance. Developers should be able to provide you with all the elements of the upgrade, ensuring the main code, patches and customizations will all work together.</p><h2 id="upgrade-to-a-new-release" tabindex="-1"><a class="header-anchor" href="#upgrade-to-a-new-release" aria-hidden="true">#</a> Upgrade to a New Release</h2><p>Advise users that the software will be off-line during the upgrade. Shut down the application server. Download from GitHub or generate from your development environment, the version of software you want to upgrade to. This will be in the form of a zip or tar file like &quot;Release_380lts.zip&quot;. Copy your ADEMPIERE_HOME directory or rename it. For example, from c:\\adempiere to c:\\adempiere_old.</p><p>If you are installing over top of the existing installation, you should, as a minimum, delete the contents of the following.</p><ul><li>ADEMPIERE_HOME\\migration (since 3.8.0)</li><li>ADEMPIERE_HOME\\lib</li><li>ADEMPIERE_HOME\\jboss</li></ul><p>Extract the new ADempiere archive to the ADEMPIERE_ROOT directory (i.e. if ADEMPIERE_HOME is c:\\adempiere, extract to c:).</p><h2 id="apply-patches" tabindex="-1"><a class="header-anchor" href="#apply-patches" aria-hidden="true">#</a> Apply Patches</h2>',13),o=(0,i.Uk)("Patches are a combination of *.jar files, which replace *.jar files in the ADEMPIERE_HOME\\lib directory. In the Patches directory on GitHub, there may be more than one type of *.jar that needs patching. If you downloaded one or more patch files, replace the existing file with the downloaded one, changing its name to match. For example, copy the "),n=(0,i._)("em",null,[(0,i._)("em",null,"patches")],-1),s=(0,i.Uk)(".jar file to ADEMPIERE_HOME\\lib\\patches.jar, overwriting the existing file. See the detailed instructions in "),l={href:"http://wiki.adempiere.net/Patches_Installation",target:"_blank",rel:"noopener noreferrer"},h=(0,i.Uk)("Patches Installation"),p=(0,i.Uk)("."),d=(0,i.uE)('<div class="custom-container info"><p class="custom-container-title">note</p><p>If you are updating a patch file, it is a good idea to rename the existing *.jar file to something like patches.jar.old.</p></div><h2 id="apply-customizations-packages-and-other-files" tabindex="-1"><a class="header-anchor" href="#apply-customizations-packages-and-other-files" aria-hidden="true">#</a> Apply Customizations, Packages and other Files</h2><div class="custom-container info"><p class="custom-container-title">Note</p><p>Ensure that any customizations applied are compatible with the target software version.</p></div><p>If you have a customization.jar with customized code or a packages.jar file with supporting *.jar files, add them to the $ADEMPIERE_HOME\\lib directory, overwriting the existing files.</p><p>Also, if you have other customized files, such as *.bat files, a CustomReport.war file, images, etc..., don&#39;t forget to add them to the new installation.</p><h2 id="database-migration" tabindex="-1"><a class="header-anchor" href="#database-migration" aria-hidden="true">#</a> Database Migration</h2>',6),c=(0,i.Uk)("The next step is to update the database. Prior to 3.8.0, this was done by applying sql files in sequence which required access to database tools. With release 3.8.0 a new "),m={href:"http://wiki.adempiere.net/Migrate",target:"_blank",rel:"noopener noreferrer"},u=(0,i.Uk)("ADempiere Migration Tool"),g=(0,i.Uk)(" has been added that makes the process much simpler. In summary, rather than apply scripts to one database to change it into another, the Migration tool compares the production database with the reference (or seed) database and ensures that all the necessary dictionary elements are in place. The tool is very versatile and allows for migrations across multiple releases of the software and transfers of databases from one vendor to another. For more details, please refer to the "),f={href:"http://wiki.adempiere.net/Migrate",target:"_blank",rel:"noopener noreferrer"},w=(0,i.Uk)("Migration Tool"),b=(0,i.Uk)(" manual."),y=(0,i.Uk)("To use the tool, you will first need to import the seed database as the reference. You do this with the script RUN_ImportReference.[sh|bat]. When the import is complete, execute the script RUN_Migrate.[sh|bat] to launch the "),k={href:"http://wiki.adempiere.net/Migrate",target:"_blank",rel:"noopener noreferrer"},E=(0,i.Uk)("Migration Tool"),v=(0,i.Uk)(". If the tool has identified the database settings correctly, you can simply click Start Migration and let the tool complete the task. Most production databases will require some intervention so refer to the Migration Tool manual for more detailed instructions."),M=(0,i._)("h2",{id:"migration-with-xml-or-sql-scripts",tabindex:"-1"},[(0,i._)("a",{class:"header-anchor",href:"#migration-with-xml-or-sql-scripts","aria-hidden":"true"},"#"),(0,i.Uk)(" Migration with XML or SQL Scripts")],-1),_=(0,i.Uk)("It may be necessary to further migrate the database by applying scripts that are included in patches or customizations and that haven't been applied to the seed or reference database. XML migrations can be applied by executing RUN_MigrateXML.[sh|bat] following the installation and build of the software. The xml scripts to apply should be found/saved in the ADEMPIERE_HOME/migration directory. SQL scripts can be applied with any one of a number of tools. The process is similar to generating a new seed database. See "),U={href:"http://wiki.adempiere.net/Creating_a_New_Seed_Database",target:"_blank",rel:"noopener noreferrer"},I=(0,i.Uk)("Creating a New Seed Database"),x=(0,i.Uk)(" for more details."),D=(0,i._)("p",null,"Once all the scripts are applied, you can start the application server and test the upgrade.",-1),A={},R=(0,a(13860).Z)(A,[["render",function(e,t){const a=(0,i.up)("ExternalLinkIcon");return(0,i.wg)(),(0,i.iD)("div",null,[r,(0,i._)("p",null,[o,n,s,(0,i._)("a",l,[h,(0,i.Wm)(a)]),p]),d,(0,i._)("p",null,[c,(0,i._)("a",m,[u,(0,i.Wm)(a)]),g,(0,i._)("a",f,[w,(0,i.Wm)(a)]),b]),(0,i._)("p",null,[y,(0,i._)("a",k,[E,(0,i.Wm)(a)]),v]),M,(0,i._)("p",null,[_,(0,i._)("a",U,[I,(0,i.Wm)(a)]),x]),D])}]])},32822:(e,t,a)=>{a.r(t),a.d(t,{data:()=>i});const i=JSON.parse('{"key":"v-8b6274ba","path":"/docs/system-administration/upgrading-and-migration.html","title":"Upgrading and Migration","lang":"en-US","frontmatter":{"title":"Upgrading and Migration","category":["Documentation"],"star":9,"sticky":9,"article":false,"author":"Jesús Albujas","summary":"*Instructions for upgrading the application and migrating the data to the new version.* One of the great features of ADempiere is that upgrades and migration to new releases are al","head":[["meta",{"property":"og:url","content":"https://github.com/adempiere/adempiere-site.github.io/docs/system-administration/upgrading-and-migration.html"}],["meta",{"property":"og:title","content":"Upgrading and Migration"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2023-12-26T20:09:37.000Z"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"es-ES"}],["meta",{"property":"article:author","content":"Jesús Albujas"}],["meta",{"property":"article:modified_time","content":"2023-12-26T20:09:37.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"Software Upgrades","slug":"software-upgrades","children":[]},{"level":2,"title":"Upgrade to a New Release","slug":"upgrade-to-a-new-release","children":[]},{"level":2,"title":"Apply Patches","slug":"apply-patches","children":[]},{"level":2,"title":"Apply Customizations, Packages and other Files","slug":"apply-customizations-packages-and-other-files","children":[]},{"level":2,"title":"Database Migration","slug":"database-migration","children":[]},{"level":2,"title":"Migration with XML or SQL Scripts","slug":"migration-with-xml-or-sql-scripts","children":[]}],"git":{"createdTime":1703621377000,"updatedTime":1703621377000,"contributors":[{"name":"Jesús Albujas","email":"134967453+JesusAlbujas@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":2.85,"words":854},"filePathRelative":"docs/system-administration/upgrading-and-migration.md","localizedDate":"December 26, 2023"}')}}]);